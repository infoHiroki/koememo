# アクティブコンテキスト

## 現在の焦点

- KoeMemoの基本機能は実装済みで、現在は以下の点に焦点を当てています：
  - 安定性とエラーハンドリングの強化
  - ユーザーインターフェースの改善
  - 多様なLLMプロバイダー対応の拡充
  - 文字起こし精度の向上
  - ファイル管理の明確化と一貫性向上

## 最近の変更

1. **ファイル管理の強化** (v1.1.0):
   - 文字起こし結果専用のディレクトリ設定を追加
   - 入力・文字起こし・出力ディレクトリを必須化
   - サービス開始前のディレクトリ検証機能を強化
   - 存在しないディレクトリの自動作成機能を改善

2. **LLMプロバイダー対応の拡充**:
   - OpenAI APIだけでなく、Anthropic ClaudeとGoogle Geminiにも対応
   - 各プロバイダーの最新モデルへの対応（GPT-4o、Claude 3シリーズなど）

3. **GUI改善**:
   - タブベースのインターフェースに改良
   - モデル管理機能の追加
   - ログビューワーの追加
   - 設定画面のレイアウト最適化（論理的な処理フローに合わせた配置）

4. **設定管理の強化**:
   - プロンプトテンプレートのカスタマイズ機能
   - 処理済みファイル履歴の管理機能
   - 設定検証機能の強化とエラー表示の改善

## 次のステップ

1. **優先度高**:
   - 音声ファイルの長さに応じた最適な処理方法の実装
   - エラー発生時の自動リカバリー機能の強化
   - プログレスバーや通知機能の追加

2. **優先度中**:
   - 話者分離機能の検討
   - 異なる出力フォーマット（Markdown, HTML, Docx）のサポート
   - バッチ処理モードの追加

3. **優先度低**:
   - インストーラーの作成
   - マルチ言語対応
   - 設定のエクスポート/インポート機能

## 現在の課題と検討事項

1. **パフォーマンス最適化**:
   - 長時間の音声ファイル処理時のメモリ使用量
   - 大規模モデル使用時のリソース消費

2. **LLM統合**:
   - 各プロバイダーのAPI仕様の違いへの対応
   - プロンプトエンジニアリングの継続的な改善
   - API料金コスト最適化

3. **UX改善**:
   - 処理進捗の可視化
   - エラーメッセージの改善
   - 初回使用時のオンボーディング体験

## 重要なパターンと設計方針

1. **シンプルさ優先**:
   - 必要最小限の設定と操作で使用できることを重視
   - 複雑な機能よりも、基本機能の確実な動作を優先

2. **非同期処理の活用**:
   - 長時間実行タスクのバックグラウンド処理
   - UIのレスポンシブ性維持

3. **モジュール化**:
   - 機能ごとの明確な責任分離
   - 将来の拡張性を考慮したコード構造

4. **エラー耐性**:
   - 外部サービス（API）障害時の適切なフォールバック
   - ユーザーに分かりやすいエラー通知
   - 事前検証による問題の早期発見

5. **ファイル管理の明確化**:
   - 入力ファイル、文字起こし結果、議事録を明確に分離
   - 必須設定による混乱の回避
   - ディレクトリ構造の一貫性確保

## プロジェクトの洞察

1. **ユーザーフィードバック**:
   - シンプルなインターフェースが好評
   - 文字起こし精度に対する期待が高い
   - プロンプトテンプレートのカスタマイズ性が重要視されている
   - ファイル管理の整理整頓が求められている

2. **技術的洞察**:
   - Faster Whisperモデルは処理速度と精度のバランスが良好
   - キューベースの処理は安定性向上に貢献
   - LLMプロバイダー間でのプロンプト効果の差異が大きい
   - 事前の設定検証が問題発生を大幅に削減

3. **開発アプローチ**:
   - 段階的な機能追加によるリスク管理
   - ユーザー体験を中心とした設計思考
   - 早期フィードバックサイクルの重視
   - 明確なリリースタグによるバージョン管理 