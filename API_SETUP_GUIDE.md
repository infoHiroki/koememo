# KoeMemo LLM API設定ガイド

KoeMemoは複数のAI言語モデル（LLM）サービスと連携して動作します。このガイドでは、各サービスのAPIキーの取得方法と設定方法について詳しく説明します。

## 目次

- [OpenAI API設定](#openai-api設定)
- [Anthropic Claude API設定](#anthropic-claude-api設定)
- [Google Gemini API設定](#google-gemini-api設定)
- [APIサービスの選択ガイドライン](#apiサービスの選択ガイドライン)
- [コスト比較](#コスト比較)
- [トークン数とコスト管理](#トークン数とコスト管理)
- [APIキーのセキュリティ](#apiキーのセキュリティ)

## OpenAI API設定

[OpenAI](https://openai.com/)は、GPT-3.5、GPT-4などの強力な言語モデルを提供しています。

### APIキー取得手順

1. [OpenAI APIのウェブサイト](https://platform.openai.com/signup)にアクセスし、アカウントを作成またはログインします。
2. ログイン後、右上のプロフィールから「API Keys」または「View API Keys」をクリックします。
3. 「Create new secret key」をクリックして新しいAPIキーを生成します。
4. 生成されたキーを安全な場所にコピーしておきます（このキーは一度しか表示されません）。

### OpenAI料金体系

OpenAIのAPIは使用量に応じた従量課金制です。料金はモデルとトークン数に基づいて計算されます。

- GPT-3.5 Turbo: 入力$0.5/百万トークン、出力$1.5/百万トークン
- GPT-4o Mini: 入力$1/百万トークン、出力$3/百万トークン
- GPT-4o: 入力$5/百万トークン、出力$15/百万トークン

**注意**: 料金は変更される可能性があります。最新の情報は[OpenAIの料金ページ](https://openai.com/pricing)を確認してください。

### KoeMemoでの設定方法

1. KoeMemoの「LLM設定」タブを開きます。
2. 「API種類」で「openai」を選択します。
3. 「APIキー」フィールドに、コピーしたOpenAIのAPIキーを貼り付けます。
4. 「モデル」ドロップダウンから使用したいモデルを選択します。コストパフォーマンスを重視する場合は「gpt-3.5-turbo」、品質を重視する場合は「gpt-4o」がおすすめです。
5. 「設定保存」ボタンをクリックして設定を保存します。

## Anthropic Claude API設定

[Anthropic](https://www.anthropic.com/)のClaudeは、自然な会話能力と長文の処理に優れた言語モデルです。

### APIキー取得手順

1. [Anthropicのウェブサイト](https://console.anthropic.com/login)にアクセスし、アカウントを作成またはログインします。
2. ログイン後、コンソールから「API Keys」セクションに移動します。
3. 「Create API Key」をクリックして新しいAPIキーを生成します。
4. 生成されたキーを安全な場所にコピーしておきます（このキーは一度しか表示されません）。

### Anthropic料金体系

AnthropicのAPIも使用量に応じた従量課金制です。

- Claude 3 Haiku: 入力$0.25/百万トークン、出力$1.25/百万トークン
- Claude 3 Sonnet: 入力$3/百万トークン、出力$15/百万トークン
- Claude 3 Opus: 入力$15/百万トークン、出力$75/百万トークン

**注意**: 料金は変更される可能性があります。最新の情報は[Anthropicの料金ページ](https://www.anthropic.com/api)を確認してください。

### KoeMemoでの設定方法

1. KoeMemoの「LLM設定」タブを開きます。
2. 「API種類」で「anthropic」を選択します。
3. 「APIキー」フィールドに、コピーしたAnthropicのAPIキーを貼り付けます。
4. 「モデル」ドロップダウンから使用したいモデルを選択します。バランスの取れた選択肢として「claude-3-sonnet-20240229」がおすすめです。
5. 「設定保存」ボタンをクリックして設定を保存します。

## Google Gemini API設定

[Google Cloud](https://cloud.google.com/)のGeminiは、Googleの最新の生成AIモデルです。

### APIキー取得手順

1. [Google Cloud Console](https://console.cloud.google.com/)にアクセスし、アカウントを作成またはログインします。
2. 新しいプロジェクトを作成するか、既存のプロジェクトを選択します。
3. 左側のメニューから「APIとサービス」→「ライブラリ」に移動します。
4. 検索バーで「Gemini API」を検索し、結果から選択します。
5. 「有効にする」ボタンをクリックしてAPIを有効化します。
6. 左側のメニューから「APIとサービス」→「認証情報」に移動します。
7. 「認証情報を作成」→「APIキー」をクリックします。
8. 生成されたAPIキーをコピーします。
9. （オプション）APIキーの制限を設定して、セキュリティを向上させます。

### Google Gemini料金体系

Google Geminiの料金体系も使用量に基づいています。

- Gemini Pro: 入力$0.5/百万トークン、出力$1.5/百万トークン
- Gemini 1.5 Pro: 入力$7/百万トークン、出力$21/百万トークン

**注意**: 料金は変更される可能性があります。最新の情報は[Google AIの料金ページ](https://ai.google.dev/pricing)を確認してください。

### KoeMemoでの設定方法

1. KoeMemoの「LLM設定」タブを開きます。
2. 「API種類」で「google」を選択します。
3. 「Google APIキー」フィールドに、コピーしたGoogle CloudのAPIキーを貼り付けます。
4. 「モデル」ドロップダウンから「gemini-pro」または「gemini-1.5-pro」を選択します。
5. 「設定保存」ボタンをクリックして設定を保存します。

## APIサービスの選択ガイドライン

各サービスの特徴を考慮して、目的に合ったAPIを選択してください：

### OpenAI (GPT)

**強み**:
- 幅広い知識と汎用性
- 日本語の処理能力が安定している
- コストパフォーマンスの良いオプション（GPT-3.5）がある

**向いている用途**:
- 一般的な会議や打ち合わせの議事録作成
- コストを抑えつつ品質を確保したい場合（GPT-4o-mini）
- 最高品質を求める場合（GPT-4o）

### Anthropic (Claude)

**強み**:
- 長文の処理に強い（より長い会議の文字起こしに適している）
- 文脈理解力と要約能力に優れている
- より自然で人間らしい文章を生成する

**向いている用途**:
- 長時間の会議や複雑な議論の議事録作成
- より質の高い要約や構造化が必要な場合
- 専門的な内容の理解が必要な場合

### Google (Gemini)

**強み**:
- Googleのデータに基づく知識
- 日本語の処理能力が向上している
- APIの安定性

**向いている用途**:
- Google製品との統合を重視する場合
- 日本語と英語が混在する会議の議事録作成
- データに基づいた事実を重視する議事録

## コスト比較

一般的な使用シナリオ（1時間の会議、約15,000トークンの文字起こし、約1,500トークンの議事録生成）におけるコスト比較:

| サービス・モデル | 入力コスト | 出力コスト | 合計（概算） |
|------------------|------------|------------|--------------|
| GPT-3.5 Turbo    | $0.0075    | $0.00225   | $0.00975     |
| GPT-4o Mini      | $0.015     | $0.0045    | $0.0195      |
| GPT-4o           | $0.075     | $0.0225    | $0.0975      |
| Claude 3 Haiku   | $0.00375   | $0.001875  | $0.005625    |
| Claude 3 Sonnet  | $0.045     | $0.0225    | $0.0675      |
| Claude 3 Opus    | $0.225     | $0.1125    | $0.3375      |
| Gemini Pro       | $0.0075    | $0.00225   | $0.00975     |
| Gemini 1.5 Pro   | $0.105     | $0.0315    | $0.1365      |

**注意**: これらはおおよその見積もりであり、実際のコストは使用状況によって異なります。最新の料金情報は各プロバイダーのウェブサイトを参照してください。

## トークン数とコスト管理

APIコストを管理するためのヒント：

1. **適切なモデルの選択**:
   - 日常的な会議や一般的な内容なら、GPT-3.5 TurboやGemini Proなどの低コストモデルで十分な場合が多いです。
   - 専門的な内容や重要な会議には、GPT-4oやClaude 3 Sonnetなどの高性能モデルを使用することを検討してください。

2. **最大トークン数の調整**:
   - KoeMemoの「LLM設定」タブで「最大トークン数」を適切に設定します。
   - 一般的な議事録であれば1000〜1500トークンが適切です。
   - 詳細な議事録が必要な場合は2000〜3000トークンに設定します。

3. **Temperature設定の最適化**:
   - 低いTemperature値（0.1〜0.3）を使用すると、より簡潔で一貫性のある議事録が生成され、不要なトークンを減らせる場合があります。

4. **使用状況のモニタリング**:
   - 各プロバイダーのウェブサイトで定期的に使用状況を確認してください。
   - OpenAI: [使用状況ダッシュボード](https://platform.openai.com/usage)
   - Anthropic: [コンソール](https://console.anthropic.com/)
   - Google Cloud: [Billing](https://console.cloud.google.com/billing)

## APIキーのセキュリティ

APIキーは機密情報であり、適切に保護する必要があります：

1. **APIキーの共有禁止**:
   - APIキーを他の人と共有したり、公開リポジトリにコミットしたりしないでください。
   - KoeMemoの設定ファイル（config.json）を共有する場合は、APIキーを削除してから共有してください。

2. **使用制限の設定**:
   - 可能であれば、APIプロバイダーの管理コンソールで使用制限を設定してください。
   - 不正使用や予期しない使用による請求を防ぐために、月間の支出上限を設定することをおすすめします。

3. **定期的なキーの更新**:
   - セキュリティのために、定期的にAPIキーを更新することを検討してください。
   - 新しいキーを生成した後、古いキーを無効化する前に、KoeMemoの設定を更新してください。

4. **適切な権限設定**:
   - Google CloudやAWS IAMなどのサービスを使用している場合は、最小権限の原則に従ってAPIキーの権限を設定してください。

---

このガイドが、KoeMemoでのLLM API設定の参考になれば幸いです。各APIサービスの詳細については、それぞれの公式ドキュメントを参照してください。